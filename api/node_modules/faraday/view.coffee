helpers = require('helpers')
_ = require('underscore')

APP_DIR = '../..'
HELPERS_DIR = '.'

filenameStart = './views/.compiled/'.length
filenameFinish = - 1 - '.html.underscorejs'.length
helpers.forEachVisibleFileSync(HELPERS_DIR + '/views/.compiled', (filename, templateString) ->
	
    helpers.setRecursive(module.exports, 
    	   				 filename[filenameStart..filenameFinish].split('/'), 
    	   				 (data) -> _.template(templateString, (data ?= {})))

)